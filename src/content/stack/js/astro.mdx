---
layout: "@layouts/StackPage.astro"
name: Astro
description: 究極のSSGを構築するフレームワーク
icon: logos:astro-icon
tags: ["astro", "frontend", "typescript", "ssr", "ssg"]
website: https://astro.build/
repository: https://github.com/withastro/astro
---

[framework-components]: https://docs.astro.build/ja/guides/framework-components
[astro-syntax]: https://docs.astro.build/ja/basics/astro-syntax

## アイランドアーキテクチャ  

  [Astroはビルド時にできるだけJSを実行し][astro-syntax]、解析・実行されるスクリプトを最小限にします。
  [UIフレームワークを利用する場合][framework-components]、ハイドレーションはコンポーネント単位で行われます。  
  必要ありませんが、ReactやVueを１つのページで同時に使う事だってできます。
  考えによっては、両方のエコシステムが使えるという利点とも取れるでしょう。  

  このアイランドアーキテクチャは完璧な様にも思えますが、コンポーネント同士のやり取りが難しいという問題があります。
  Reactのコンポーネント上からReactコンポーネントを呼び出す分には値の受け渡しができますが、
  AstroとUIフレームワークは一方的であり、Astroで値を受け取ることはできません。  

[server-side-rendering]: https://docs.astro.build/ja/guides/server-side-rendering

## ページごとにSSR・SSGを設定できる  

  アイランドアーキテクチャのことを踏まえると、Astroはブログ専用機になるかと思いがちですが、そうでもありません。
  Astroは、[ページ単位でSSRかSSGを選択できます][server-side-rendering]。  
  大半がSSGで占められるのであれば、Astroは十分な選択肢になります。
  逆に大半がSSRで占められるならばNext.jsやNuxt等を使った方が楽でしょう。
  パフォーマンスの観点からも大半がSSRならば、RemixやQwik City等を使う方が良いかもしれません。  

## Astroテンプレート  

  AstroテンプレートはAstro全体で使用される構文のことです。
  ページもコンポーネントもAstroテンプレートの構文を使用します。  

  Astroテンプレートでは大きくフロントマター部分とマークアップ部分に分かれています。
  フロントマターではTypeScriptとNode.jsが利用できます。
  マークアップ部分に関しては自由で、scriptやstyleを使用できます。

### Astroテンプレート内のスタイル  

  Astroテンプレート内のスタイルは少し特殊です。  
  HTMLの様に書けますが、ビルド時に追加処理が行われ、スタイルの適用範囲がAstroテンプレート内のみにとどまります。
  クラスを作らず、外部に影響を与えず、直接タグ名をしてスタイリングできます。  

  このスタイリングではSASSやStylusなどのCSSメタ言語を使うことも出来ます。
  Astroテンプレート単位で管理されるので、SASSとStylusとLessを１つのページで同時に使う事ができます。  

  外部のスタイルシートをフロントマターから呼び出して適用することもできます（この場合はグローバルなスタイルとなります）。  

  さらに、このスタイリングには値を渡すことができます。
  型が一致しないものもありますが、フロントマターなどで変数を定義して渡して、CSS変数として扱えます。  

## Astroインテグレーション  

  AstroはUIフレームワークを通じて幅広いエコシステムを利用できますが、Astroから直接アクセスできるものもあります。
  UIフレームワークもその一部であり、自動でインストールと設定を行うことが出来ます。  

  よく使われるのはTailwindCSSやReact、Iconifyなどで、
  通常のフレームワークを使っているように静的なUIを記述できます。  
